<div class="main-layout">
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="header-left">
        <button
          pButton
          type="button"
          icon="pi pi-bars"
          class="p-button-text p-button-rounded"
          (click)="toggleSidebar()"
        ></button>
        <h1 class="header-title">Habitta</h1>
      </div>

      <div class="header-right">
        @if (currentUser()) {
          <div class="user-info">
            <p-avatar
              [label]="getUserInitials()"
              shape="circle"
              styleClass="bg-primary"
            />
            <div class="user-details hidden md:block">
              <p class="user-name">{{ currentUser()?.name }}</p>
              <span [class]="getRoleBadgeClass()">{{ getRoleLabel() }}</span>
            </div>
          </div>
        }
      </div>
    </div>
  </header>

  <!-- Drawer -->
  <p-drawer
    [(visible)]="sidebarVisible"
    position="left"
    styleClass="sidebar-custom"
  >
    <ng-template pTemplate="header">
      <div class="sidebar-header">
        <h2 class="sidebar-title">Menu</h2>
      </div>
    </ng-template>

    <div class="sidebar-content">
      <p-menu [model]="menuItems" styleClass="w-full border-none" />
    </div>
  </p-drawer>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-wrapper">
      <router-outlet />
    </div>
  </main>
</div>
